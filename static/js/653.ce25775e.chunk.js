"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[653],{5653:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});var s=r(5861),a=r(9439),n=r(7757),c=r.n(n),i=r(5805),o=r(2791),l=r(1087),u=r(7689),h=r(8174),_=r(5705),m=r(6727),v="Movies_searchForm__S-9T7",f="Movies_searchInput__+E-Mw",d="Movies_searchButton__VlmGO",p="Movies_searchList__6eDvk",x="Movies_searchItem__aEEd+",g="Movies_searchText__+ZzX-",j=r(184),S=(0,m.Ry)({searchString:(0,m.Z_)().required()}),b=function(){var e=(0,o.useState)(),t=(0,a.Z)(e,2),r=t[0],n=t[1],m=(0,l.lr)(),b=(0,a.Z)(m,2),w=b[0],k=b[1],M=(0,u.TH)(),N=function(e){k(""!==e?{search:e}:{})};return(0,o.useEffect)((function(){var e=new AbortController,t=w.get("search");if(t){var r=function(){var e=(0,s.Z)(c().mark((function e(t,r){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.V0)(t,r);case 3:s=e.sent,n(s.data.results),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),"canceled"!==e.t0.message&&h.Am.error(e.t0.message);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}();return r(t,e),function(){e.abort()}}n(null)}),[w]),(0,j.jsxs)("main",{children:[(0,j.jsx)(_.J9,{initialValues:{searchString:""},onSubmit:function(e){N(e.searchString.trim())},validationSchema:S,children:(0,j.jsxs)(_.l0,{className:v,children:[(0,j.jsx)(_.gN,{type:"text",name:"searchString",placeholder:"Search movies",className:f}),(0,j.jsx)("button",{type:"submit",className:d,children:"Search"})]})}),(0,j.jsx)("ul",{className:p,children:r&&r.map((function(e){return(0,j.jsx)("li",{className:x,children:(0,j.jsxs)(l.rU,{to:"/movies/".concat(e.id),state:{from:M},children:[(0,j.jsx)("img",{src:"".concat(i.aF).concat(i.Z8).concat(e.poster_path),alt:e.title}),(0,j.jsx)("p",{className:g,children:e.title})]})},e.id)}))})]})}}}]);
//# sourceMappingURL=653.ce25775e.chunk.js.map